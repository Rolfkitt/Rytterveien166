const translations = {
    no: {
        title: "Velkommen til Rytterveien 166",
        subtitle: "Guide og hjelpeside",
        tocTitle: "Innholdsfortegnelse",
        waterToc: "ğŸ’§ Vannforsyning",
        bedroomsToc: "ğŸ›ï¸ Soverom",
        jacuzziToc: "ğŸ› Jacuzzi",
        climateToc: "ğŸŒ¡ï¸ Klima",
        fireplaceToc: "ğŸ”¥ Peis",
        saunaToc: "ğŸ§– Badstue",
        wasteToc: "â™»ï¸ SÃ¸ppelsortering",
        skiToc: "ğŸ¿ Skibakken",
        cafeToc: "â˜• Kafe",
        departureToc: "ğŸ“‹ Ved Avreise",
        waterTitle: "ğŸ’§ Vannforsyning",
        waterText: "Vannkranen mÃ¥ Ã¥pnes nÃ¥r dere ankommer og lukkes nÃ¥r dere forlater hytta. Dette sikrer at rÃ¸rene ikke fryser om vinteren.",
        bedroomsTitle: "ğŸ›ï¸ Soverom",
        bedroomsText: "Soverommene er ryddet opp og klargjort for dere. Alle senger er gjort med rent sengetÃ¸y.",
        jacuzziTitle: "ğŸ› Jacuzzi",
        jacuzziIntro: "Vi tar godt vare pÃ¥ jacuzzien for Ã¥ sikre en hyggelig opplevelse for dere. Her er siste vedlikehold:",
        jacuzziList: [
            "Vannskifte: Sist utfÃ¸rt 26. desember 2025",
            "Kvalitetssjekk (klorinnhold): Sist utfÃ¸rt 26. desember 2025"
        ],
        jacuzziAdvice: [
            "ğŸŒ¡ï¸ Sett temperaturen til 38 grader ved ankomst ved Ã¥ trykke pÃ¥ displayet pÃ¥ jacuzzien.",
            "ğŸ”‹ Husk Ã¥ sette lokket pÃ¥ jacuzzien nÃ¥r det ikke er i bruk for Ã¥ spare energi!",
            "ğŸš¿ FÃ¸r bruk tar alle som skal bruke jacuzzien en kjapp dusj for et hyggelig og rent miljÃ¸.",
            "ğŸ’Š Klor tablet skal kun tilsettes ved behov.",
            "ğŸ’Š Ved avreise settes 1 stk klortablett i den blÃ¥ klorbeholderen for Ã¥ opprettholde klornivÃ¥et."
        ],
        fireplaceTitle: "ğŸ”¥ Peis",
        fireplaceIntro: "Peisen kan brukes til Ã¥ varme opp hytta. SÃ¸rg for at det ikke er brannfare, og slukk alltid peisen fÃ¸r dere forlater stedet.",
        fireplaceSteps: [
            "ğŸªµ Legg inn 3 stk vedkubber og sett spjeld til maks for Ã¥ starte.",
            "ğŸ”¥ NÃ¥r det er god fyr, juster ned til under middels med dÃ¸ren helt lukket.",
            "ğŸ’¨ Det er veldig god trekk i denne ovnen.",
            "ğŸªµ Sett vedkubber stÃ¥ende for beste mulig fyr."
        ],
        saunaTitle: "ğŸ§– Badstue",
        saunaText: "Badstuen er tilgjengelig for avslapning. FÃ¸lg sikkerhetsinstruksjonene og ikke bruk den uten tilsyn.",
        departureTitle: "ğŸ“‹ Ved Avreise",
        departureText: "Vi setter stor pris pÃ¥ om dere kan gjÃ¸re fÃ¸lgende fÃ¸r dere forlater hytta:",
        departureOutro: "HÃ¥per at dere har hatt et hyggelig opphold!",
        departureList: [
            "Ta alt brukte hÃ¥ndklÃ¦r og sengetÃ¸y og legg dem i vaskemaskinen.",
            "Heng opp nÃ¸kkelen tilbake i nÃ¸kkelboksen pÃ¥ utsiden av hoveddÃ¸ren.",
            "Sjekk at alle vinduer og dÃ¸rer er lukket.",
            "Sjekk at boblebad deksel er satt pÃ¥ jacuzzi og festet opp med jekkestropp."
        ],
        wasteTitle: "â™»ï¸ SÃ¸ppelsortering",
        wasteText: "Vi ber om at dere sorterer sÃ¸ppelet som fÃ¸lger: Bilder av sÃ¸ppelstasjonen vil bli lagt til her.",
        skiTitle: "ğŸ¿ Skibakken",
        skiIntro: "Nyt en dag med ski i Gautefall skibakken. Her er lÃ¸ypekartet og informasjon om heiskortpriser.",
        skiPrices: "For priser pÃ¥ heiskort, se nedenfor:",
        skiPricesList: "Voksen (dag): 500 NOK\nBarn (dag): 300 NOK\nSesongkort: 5000 NOK",
        cafeTitle: "â˜• Kafe",
        cafeIntro: "Kafeen ligger rett ved siden av hytten, kun 200 meter gangavstand og er en fin spasertur fra hytta. Her kan dere nyte en god kopp kaffe eller noe Ã¥ spise.",
        weatherToc: "ğŸŒ¤ï¸ VÃ¦rmelding",
        weatherTitle: "ğŸŒ¤ï¸ VÃ¦rmelding",
        weatherIntro: "VÃ¦rmeldingen oppdateres automatisk og viser vÃ¦ret for Gautefall-omrÃ¥det.",
    },
    da: {
        title: "Velkommen til Rytterveien 166",
        subtitle: "Guide og hjÃ¦lpeside",
        tocTitle: "Indholdsfortegnelse",
        waterToc: "ğŸ’§ Vandforsyning",
        bedroomsToc: "ğŸ›ï¸ SovevÃ¦relser",
        jacuzziToc: "ğŸ› Jacuzzi",
        fireplaceToc: "ğŸ”¥ Peis",
        saunaToc: "ğŸ§– Badstue",
        wasteToc: "â™»ï¸ Affaldssortering",
        skiToc: "ğŸ¿ Skibakken",
        cafeToc: "â˜• Kafe",
        weatherToc: "ğŸŒ¤ï¸ Vejrudsigt",
        departureToc: "ğŸ“‹ Ved Afrejse",
        waterTitle: "Vandforsyning",
        waterText: "Vandhanen skal Ã¥bnes nÃ¥r I ankommer og lukkes nÃ¥r I forlader hytten. Dette sikrer at rÃ¸rene ikke fryser om vinteren.",
        bedroomsTitle: "SovevÃ¦relser",
        bedroomsText: "SovevÃ¦relserne er ryddet op og gjort klar til jer. Alle senge er gjort med rent sengetÃ¸j.",
        jacuzziTitle: "ğŸ› Jacuzzi",
        jacuzziIntro: "Vi tager godt vare pÃ¥ jacuzzien for at sikre en hyggelig oplevelse for jer. Her er sidste vedligeholdelse:",
        jacuzziList: [
            "Vandskifte: Sidst udfÃ¸rt 26. december 2025",
            "Kvalitetstjek (klorindhold): Sidst udfÃ¸rt 26. december 2025"
        ],
        jacuzziAdvice: [
            "ğŸŒ¡ï¸ SÃ¦t temperaturen til 38 grader ved ankomst ved at trykke pÃ¥ displayet pÃ¥ jacuzzien.",
            "ğŸ”‹ Husk at sÃ¦tte lÃ¥get pÃ¥ jacuzzien, nÃ¥r det ikke er i brug for at spare energi!",
            "ğŸš¿ FÃ¸r brug tager alle som skal bruge jacuzzien et hurtigt bad for et hyggeligt og rent miljÃ¸.",
            "ğŸ’Š Klor tablet skal kun tilsÃ¦ttes ved behov.",
            "ğŸ’Š Ved afrejse sÃ¦ttes 1 stk klortablet i den blÃ¥ klorbeholder for at opretholde klorniveauet."
        ],
        fireplaceTitle: "ğŸ”¥ Peis",
        fireplaceIntro: "Peisen kan brukes til Ã¥ varme opp hytta. SÃ¸rg for at det ikke er brannfare, og slukk alltid peisen fÃ¸r dere forlater stedet.",
        fireplaceSteps: [
            "ğŸªµ LÃ¦g 3 stk brÃ¦ndeknuder ind og sÃ¦t spjÃ¦ldet til maks for at starte.",
            "ğŸ”¥ NÃ¥r der er god ild, juster ned til under middel med dÃ¸ren helt lukket.",
            "ğŸ’¨ Der er meget god trÃ¦k i denne ovn.",
            "ğŸªµ SÃ¦t brÃ¦ndeknuder stÃ¥ende for den bedst mulige ild."
        ],
        saunaTitle: "ğŸ§– Badstue",
        saunaText: "Badstuen er tilgjengelig for avslapning. FÃ¸lg sikkerhetsinstruksjonene og ikke bruk den uten tilsyn.",
        departureTitle: "ğŸ“‹ Ved Afrejse",
        departureText: "Venligst gÃ¸r fÃ¸lgende fÃ¸r I forlader hytten:",
        departureOutro: "HÃ¥ber at I har haft et hyggeligt ophold!",
        departureList: [
            "Tag alt brugt hÃ¥ndklÃ¦der og sengetÃ¸j og lÃ¦g dem i vaskemaskinen.",
            "HÃ¦ng nÃ¸glen tilbage i nÃ¸gleboksen pÃ¥ ydersiden af hoveddÃ¸ren.",
            "Tjek at alle vinduer og dÃ¸re er lukket.",
            "Tjek at boblebad lÃ¥g er sat pÃ¥ jacuzzi og fastgjort med jekkestropp."
        ],
        wasteTitle: "â™»ï¸ Affaldssortering",
        wasteText: "Vi beder jer om at sortere affaldet som fÃ¸lger: Billeder af affaldsstationen vil blive tilfÃ¸jet her.",
        skiTitle: "ğŸ¿ Skibakken",
        skiIntro: "Nyd en dag med ski i Gautefall skibakken. Her er lÃ¸ypekortet og information om heiskortpriser.",
        skiPrices: "For priser pÃ¥ heiskort, se nedenfor:",
        skiPricesList: "Voksen (dag): 500 DKK\nBarn (dag): 300 DKK\nSesongkort: 5000 DKK",
        cafeTitle: "â˜• Kafe",
        cafeIntro: "Kafeen ligger lige ved siden af hytten, kun 200 meter gangafstand og er en fin spadseretur fra hytten. Her kan I nyde en god kop kaffe eller noget at spise.",
        weatherToc: "ğŸŒ¤ï¸ Vejrudsigt",
        weatherTitle: "ğŸŒ¤ï¸ Vejrudsigt",
        weatherIntro: "Her er vejrudsigten for Gautefall de nÃ¦ste 2 dage.",
    },
    de: {
        title: "Willkommen in der Rytterveien 166",
        subtitle: "Leitfaden und Hilfeseite",
        tocTitle: "Inhaltsverzeichnis",
        waterToc: "ğŸ’§ Wasserversorgung",
        bedroomsToc: "ğŸ›ï¸ Schlafzimmer",
        jacuzziToc: "ğŸ› Jacuzzi",
        fireplaceToc: "ğŸ”¥ Kamin",
        saunaToc: "ğŸ§– Sauna",
        wasteToc: "â™»ï¸ Abfallsortierung",
        skiToc: "ğŸ¿ Skibakken",
        cafeToc: "â˜• Kafe",
        weatherToc: "ğŸŒ¤ï¸ Wettervorhersage",
        departureToc: "ğŸ“‹ Bei Abreise",
        waterTitle: "Wasserversorgung",
        waterText: "Der Wasserhahn muss beim Ankommen geÃ¶ffnet und beim Verlassen der HÃ¼tte geschlossen werden. Dies stellt sicher, dass die Rohre im Winter nicht einfrieren.",
        bedroomsTitle: "Schlafzimmer",
        bedroomsText: "Die Schlafzimmer sind aufgerÃ¤umt und fÃ¼r Sie vorbereitet. Alle Betten sind mit frischer BettwÃ¤sche bezogen.",
        jacuzziTitle: "ğŸ› Jacuzzi",
        jacuzziIntro: "Wir kÃ¼mmern uns gut um den Jacuzzi, um Ihnen ein angenehmes Erlebnis zu garantieren. Hier ist die letzte Wartung:",
        jacuzziList: [
            "Wasserwechsel: Zuletzt durchgefÃ¼hrt am 26. Dezember 2025",
            "QualitÃ¤tsprÃ¼fung (Chlorgehalt): Zuletzt durchgefÃ¼hrt am 26. Dezember 2025"
        ],
        jacuzziAdvice: [
            "ğŸŒ¡ï¸ Stellen Sie die Temperatur bei Ankunft auf 38 Grad ein, indem Sie auf das Display des Jacuzzis drÃ¼cken.",
            "ğŸ”‹ Denken Sie daran, den Deckel auf den Jacuzzi zu legen, wenn er nicht in Gebrauch ist, um Energie zu sparen!",
            "ğŸš¿ Vor der Nutzung nehmen alle, die den Jacuzzi benutzen mÃ¶chten, eine kurze Dusche fÃ¼r eine angenehme und saubere Umgebung.",
            "ğŸ’Š Chlor-Tablette soll nur bei Bedarf hinzugefÃ¼gt werden.",
            "ğŸ’Š Bei Abreise 1 Chlor-Tablette in den blauen ChlorbehÃ¤lter geben, um den Chlorspiegel aufrechtzuerhalten."
        ],
        fireplaceTitle: "ğŸ”¥ Kamin",
        fireplaceIntro: "Der Kamin kann verwendet werden, um die HÃ¼tte zu heizen. Stellen Sie sicher, dass keine Brandgefahr besteht, und lÃ¶schen Sie den Kamin immer, bevor Sie den Ort verlassen.",
        fireplaceSteps: [
            "ğŸªµ Legen Sie 3 Holzscheite ein und stellen Sie die Klappe auf Maximum, um zu starten.",
            "ğŸ”¥ Wenn das Feuer gut brennt, drehen Sie auf unter Mittel herunter, mit der TÃ¼r vollstÃ¤ndig geschlossen.",
            "ğŸ’¨ Es gibt einen sehr guten Zug in diesem Ofen.",
            "ğŸªµ Platzieren Sie die Holzscheite stehend fÃ¼r das beste mÃ¶gliche Feuer."
        ],
        saunaTitle: "ğŸ§– Sauna",
        saunaText: "Die Sauna steht zur Entspannung zur VerfÃ¼gung. Befolgen Sie die Sicherheitsanweisungen und verwenden Sie sie nicht ohne Aufsicht.",

        departureTitle: "ğŸ“‹ Bei Abreise",
        departureText: "Bitte tun Sie Folgendes, bevor Sie die HÃ¼tte verlassen:",
        departureOutro: "Wir hoffen, Sie hatten einen angenehmen Aufenthalt!",
        departureList: [
            "Nehmen Sie alle gebrauchten HandtÃ¼cher und BettwÃ¤sche und legen Sie sie in die Waschmaschine.",
            "HÃ¤ngen Sie den SchlÃ¼ssel zurÃ¼ck in die SchlÃ¼sselbox auÃŸen an der HaustÃ¼r.",
            "ÃœberprÃ¼fen Sie, dass alle Fenster und TÃ¼ren geschlossen sind.",
            "ÃœberprÃ¼fen Sie, dass der Whirlpool-Deckel auf der Jacuzzi sitzt und mit dem Spanngurt befestigt ist."
        ],
        wasteTitle: "â™»ï¸ Abfallsortierung",
        wasteText: "Wir bitten Sie, den Abfall wie folgt zu sortieren: Bilder der Abfallstation werden hier hinzugefÃ¼gt.",
        skiTitle: "ğŸ¿ Skibakken",
        skiIntro: "GenieÃŸen Sie einen Tag mit Skifahren in der Gautefall Skibakken. Hier ist die Pistenkarte und Informationen zu Liftkartenpreisen.",
        skiPrices: "FÃ¼r Preise von Liftkarten, siehe unten:",
        skiPricesList: "Erwachsener (Tag): 50 EUR\nKind (Tag): 30 EUR\nSaisonkarte: 500 EUR",
        cafeTitle: "â˜• Kafe",
        cafeIntro: "Das CafÃ© liegt direkt neben der HÃ¼tte, nur 200 Meter zu FuÃŸ und ist ein schÃ¶ner Spaziergang von der HÃ¼tte. Hier kÃ¶nnen Sie einen guten Kaffee oder etwas zu essen genieÃŸen.",
        weatherToc: "ğŸŒ¤ï¸ Wettervorhersage",
        weatherTitle: "ğŸŒ¤ï¸ Wettervorhersage",
        weatherIntro: "Hier ist die Wettervorhersage fÃ¼r Gautefall fÃ¼r die nÃ¤chsten 2 Tage.",
    },
    en: {
        title: "Welcome to Rytterveien 166",
        subtitle: "Guide and help page",
        tocTitle: "Table of Contents",
        waterToc: "ğŸ’§ Water Supply",
        bedroomsToc: "ğŸ›ï¸ Bedrooms",
        jacuzziToc: "ğŸ› Jacuzzi",
        fireplaceToc: "ğŸ”¥ Fireplace",
        saunaToc: "ğŸ§– Sauna",
        wasteToc: "â™»ï¸ Waste Sorting",
        skiToc: "ğŸ¿ Ski Slope",
        cafeToc: "â˜• Cafe",
        weatherToc: "ğŸŒ¤ï¸ Weather Forecast",
        departureToc: "ğŸ“‹ Upon Departure",
        waterTitle: "Water Supply",
        waterText: "The water tap must be opened upon arrival and closed when leaving the cabin. This ensures that the pipes do not freeze in winter.",
        bedroomsTitle: "Bedrooms",
        bedroomsText: "The bedrooms are tidied up and prepared for you. All beds are made with clean linens.",
        jacuzziTitle: "ğŸ› Jacuzzi",
        jacuzziIntro: "We take good care of the jacuzzi to ensure a pleasant experience for you. Here is the latest maintenance:",
        jacuzziList: [
            "Water change: Last performed December 26, 2025",
            "Quality check (chlorine content): Last performed December 26, 2025"
        ],
        jacuzziAdvice: [
            "ğŸŒ¡ï¸ Set the temperature to 38 degrees upon arrival by pressing the display on the jacuzzi.",
            "ğŸ”‹ Remember to put the lid on the jacuzzi when not in use to save energy!",
            "ğŸš¿ Before use, everyone who wants to use the jacuzzi takes a quick shower for a pleasant and clean environment.",
            "ğŸ’Š Chlorine tablet should only be added as needed.",
            "ğŸ’Š Upon departure, place 1 chlorine tablet in the blue chlorine container to maintain chlorine levels."
        ],
        fireplaceTitle: "ğŸ”¥ Fireplace",
        fireplaceIntro: "The fireplace can be used to heat the cabin. Ensure there is no fire hazard, and always extinguish the fireplace before leaving.",
        fireplaceSteps: [
            "ğŸªµ Put in 3 logs and set the damper to maximum to start.",
            "ğŸ”¥ When there is a good fire, adjust down to below medium with the door completely closed.",
            "ğŸ’¨ There is very good draught in this stove.",
            "ğŸªµ Place the logs standing for the best possible fire."
        ],
        saunaTitle: "ğŸ§– Sauna",
        saunaText: "The sauna is available for relaxation. Follow safety instructions and do not use it unsupervised.",
        departureTitle: "ğŸ“‹ Upon Departure",
        departureText: "Please do the following before leaving the cabin:",
        departureOutro: "We hope you had a pleasant stay!",
        departureList: [
            "Take all used towels and bed linens and put them in the washing machine.",
            "Hang the key back in the key box outside the main door.",
            "Check that all windows and doors are closed.",
            "Check that the hot tub lid is on the jacuzzi and secured with the ratchet strap."
        ],
        wasteTitle: "â™»ï¸ Waste Sorting",
        wasteText: "We ask that you sort the waste as follows: Pictures of the waste station will be added here.",
        skiTitle: "ğŸ¿ Ski Slope",
        skiIntro: "Enjoy a day of skiing at Gautefall ski slope. Here is the trail map and information on lift ticket prices.",
        skiPrices: "For lift ticket prices, see below:",
        skiPricesList: "Adult (day): 50 USD\nChild (day): 30 USD\nSeason pass: 500 USD",
        cafeTitle: "â˜• Cafe",
        cafeIntro: "The cafe is located right next to the cabin, only 200 meters walking distance and is a nice walk from the cabin. Here you can enjoy a good cup of coffee or something to eat.",
        weatherToc: "ğŸŒ¤ï¸ Weather Forecast",
        weatherTitle: "ğŸŒ¤ï¸ Weather Forecast",
        weatherIntro: "Here is the weather forecast for Gautefall for the next 2 days.",
    }
};

function updateContent(lang = 'no') {
    const trans = translations[lang];
    const locale = lang === 'no' ? 'no-NO' : lang === 'da' ? 'da-DK' : lang === 'de' ? 'de-DE' : 'en-US';

    document.querySelector('.hero h1').textContent = trans.title;
    document.getElementById('subtitle').textContent = trans.subtitle;
    document.getElementById('toc-title').textContent = trans.tocTitle;
    document.querySelector('#toc a[href="#water"]').textContent = trans.waterToc;
    document.querySelector('#toc a[href="#bedrooms"]').textContent = trans.bedroomsToc;
    document.querySelector('#toc a[href="#jacuzzi"]').textContent = trans.jacuzziToc;
    document.querySelector('#toc a[href="#climate"]').textContent = trans.climateToc;
    document.querySelector('#toc a[href="#fireplace"]').textContent = trans.fireplaceToc;
    document.querySelector('#toc a[href="#sauna"]').textContent = trans.saunaToc;
    document.querySelector('#toc a[href="#waste"]').textContent = trans.wasteToc;
    document.querySelector('#toc a[href="#ski"]').textContent = trans.skiToc;
    document.querySelector('#toc a[href="#cafe"]').textContent = trans.cafeToc;
    document.querySelector('#toc a[href="#weather"]').textContent = trans.weatherToc;
    document.querySelector('#toc a[href="#departure"]').textContent = trans.departureToc;
    document.querySelector('#water h2').textContent = trans.waterTitle;
    document.querySelector('#water p').textContent = trans.waterText;
    document.querySelector('#bedrooms h2').textContent = trans.bedroomsTitle;
    document.querySelector('#bedrooms p').textContent = trans.bedroomsText;
    document.querySelector('#jacuzzi h2').textContent = trans.jacuzziTitle;
    const jacuzziIntro = document.querySelector('#jacuzzi-intro');
    if (jacuzziIntro) jacuzziIntro.textContent = trans.jacuzziIntro;
    const jacuzziList = document.querySelector('#jacuzzi-list');
    jacuzziList.innerHTML = '';
    trans.jacuzziList.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        jacuzziList.appendChild(li);
    });
    const jacuzziAdvice = document.querySelector('#jacuzzi-advice');
    jacuzziAdvice.innerHTML = '';
    if (trans.jacuzziAdvice) {
        trans.jacuzziAdvice.forEach(item => {
            const li = document.createElement('li');
            li.textContent = item;
            jacuzziAdvice.appendChild(li);
        });
    }
    document.querySelector('#fireplace h2').textContent = trans.fireplaceTitle;
    const fireplaceIntro = document.querySelector('#fireplace-intro');
    if (fireplaceIntro) fireplaceIntro.textContent = trans.fireplaceIntro;
    const fireplaceSteps = document.querySelector('#fireplace-steps');
    fireplaceSteps.innerHTML = '';
    if (trans.fireplaceSteps) {
        trans.fireplaceSteps.forEach(item => {
            const li = document.createElement('li');
            li.textContent = item;
            fireplaceSteps.appendChild(li);
        });
    }
    document.querySelector('#sauna h2').textContent = trans.saunaTitle;
    const saunaP = document.querySelector('#sauna p');
    if (saunaP) saunaP.textContent = trans.saunaText;
    document.querySelector('#departure h2').textContent = trans.departureTitle;
    document.querySelector('#departure p').textContent = trans.departureText;
    const list = document.querySelector('#departure ul');
    list.innerHTML = '';
    trans.departureList.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        list.appendChild(li);
    });
    const outroP = document.querySelector('#departure p:last-of-type');
    outroP.textContent = trans.departureOutro;
    document.querySelector('#waste h2').textContent = trans.wasteTitle;
    document.querySelector('#waste p').textContent = trans.wasteText;
    document.querySelector('#ski h2').textContent = trans.skiTitle;
    document.querySelector('#ski-intro').textContent = trans.skiIntro;
    document.querySelector('#ski-prices').textContent = trans.skiPrices;
    const skiPricesList = document.querySelector('#ski-prices-list');
    skiPricesList.innerHTML = '';
    const prices = trans.skiPricesList.split('\n');
    prices.forEach(price => {
        const li = document.createElement('li');
        li.textContent = price;
        skiPricesList.appendChild(li);
    });
    document.querySelector('#cafe h2').textContent = trans.cafeTitle;
    document.querySelector('#cafe-intro').textContent = trans.cafeIntro;
    document.querySelector('#weather h2').textContent = trans.weatherTitle;
    document.querySelector('#weather-intro').textContent = trans.weatherIntro + " (Oppdatert: " + new Date().toLocaleString(locale) + ")";
}

function getWeatherIcon(symbol) {
    const iconMap = {
        'clearsky_day': 'â˜€ï¸',
        'clearsky_night': 'ğŸŒ™',
        'fair_day': 'ğŸŒ¤ï¸',
        'fair_night': 'ğŸŒ™',
        'partlycloudy_day': 'â›…',
        'partlycloudy_night': 'â˜ï¸',
        'cloudy': 'â˜ï¸',
        'lightrain': 'ğŸŒ¦ï¸',
        'rain': 'ğŸŒ§ï¸',
        'heavyrain': 'â›ˆï¸',
        'rainandthunder': 'â›ˆï¸',
        'rainshowers_day': 'ğŸŒ¦ï¸',
        'rainshowers_night': 'ğŸŒ§ï¸',
        'sleet': 'ğŸŒ¨ï¸',
        'lightsleet': 'ğŸŒ¨ï¸',
        'heavysleet': 'ğŸŒ¨ï¸',
        'snow': 'â„ï¸',
        'lightsnow': 'ğŸŒ¨ï¸',
        'heavysnow': 'â„ï¸',
        'snowshowers_day': 'ğŸŒ¨ï¸',
        'snowshowers_night': 'â„ï¸',
        'fog': 'ğŸŒ«ï¸',
        'lightrainandthunder': 'â›ˆï¸',
        'rainandthunder': 'â›ˆï¸',
        'sleetandthunder': 'â›ˆï¸',
        'snowandthunder': 'â›ˆï¸',
        'lightrainshowersandthunder': 'â›ˆï¸',
        'rainshowersandthunder': 'â›ˆï¸',
        'sleetshowersandthunder': 'â›ˆï¸',
        'snowshowersandthunder': 'â›ˆï¸',
        'unknown': 'â˜ï¸'
    };
    return iconMap[symbol] || 'â˜ï¸';
}

async function fetchWeather(lang = 'no') {
    const forecastDiv = document.getElementById('weather-forecast');
    const loadingText = lang === 'no' ? 'Laster vÃ¦rvarsel...' : lang === 'da' ? 'IndlÃ¦ser vejrudsigt...' : lang === 'de' ? 'Lade Wettervorhersage...' : 'Loading weather forecast...';
    forecastDiv.innerHTML = loadingText;
    const locale = lang === 'no' ? 'no-NO' : lang === 'da' ? 'da-DK' : lang === 'de' ? 'de-DE' : 'en-US';
    try {
        const response = await fetch('https://api.met.no/weatherapi/locationforecast/2.0/complete?lat=59.059041&lon=8.737141', {
            headers: {
                'User-Agent': 'Rytterveien166-Guide/1.0 (rolf.kittelsen@imstec.no)'
            }
        });
        if (!response.ok) throw new Error('API error');
        const data = await response.json();
        const timeseries = data.properties.timeseries;
        
        // Get next available days with weather data
        const now = new Date();
        const forecasts = [];
        for (let i = 0; i < 10; i++) {  // Check up to 10 days
            const date = new Date(now);
            date.setDate(now.getDate() + i);
            const dateStr = date.toISOString().slice(0, 10); // YYYY-MM-DD
            const dayEntries = timeseries.filter(t => t.time.startsWith(dateStr));
            if (dayEntries.length > 0) {
                const noonEntry = dayEntries.reduce((closest, current) => {
                    const currentHour = new Date(current.time).getHours();
                    const closestHour = new Date(closest.time).getHours();
                    return Math.abs(currentHour - 12) < Math.abs(closestHour - 12) ? current : closest;
                });
                if (noonEntry.data.next_1_hours) {
                    // Calculate max/min temperature
                    const temps = dayEntries.map(e => e.data.instant.details.air_temperature);
                    const maxTemp = Math.max(...temps);
                    const minTemp = Math.min(...temps);
                    
                    // Sum precipitation
                    const precip = dayEntries.reduce((sum, e) => sum + (e.data.next_1_hours?.details.precipitation_amount || 0), 0);
                    
                    const symbol = noonEntry.data.next_1_hours.summary.symbol_code;
                    
                    forecasts.push({ date, maxTemp, minTemp, precip, symbol });
                } else {
                    // Stop if no next_1_hours data
                    break;
                }
            }
        }
        
        const icons = forecasts.map(f => getWeatherIcon(f.symbol));

        forecastDiv.innerHTML = '<div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">' + forecasts.map((f, index) => {
            const icon = getWeatherIcon(f.symbol);
            const day = f.date.toLocaleDateString(locale, { weekday: 'short', month: 'short', day: 'numeric' });
            return `<div style="text-align: center; min-width: 100px;"><span style="font-size: 48px; display: block;">${icon}</span><strong>${day}</strong><br>Maks: ${f.maxTemp}Â°C<br>Min: ${f.minTemp}Â°C<br>NedbÃ¸r: ${f.precip.toFixed(1)} mm</div>`;
        }).join('') + '</div>';
    } catch (error) {
        forecastDiv.innerHTML = 'Kunne ikke laste vÃ¦rvarsel. PrÃ¸v igjen senere.';
        console.error(error);
    }
}

document.getElementById('language').addEventListener('change', function() {
    const lang = this.value;
    updateContent(lang);
    fetchWeather(lang);
});

// Initial load
window.addEventListener('load', () => {
    updateContent();
    fetchWeather();
});

document.getElementById('download-pdf').addEventListener('click', function() {
    const element = document.querySelector('.container');
    html2pdf().from(element).save('rytterveien-info.pdf');
});